<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta content="width=device-width, initial-scale=1.0, shrink-to-fit=no" name="viewport" />
  <meta content="ie=edge" http-equiv="X-UA-Compatible" />
  <link crossorigin="anonymous" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" rel="stylesheet">
  <script src="https://kit.fontawesome.com/0cb65f14a9.js"></script>
  <link href="/assets/css/style.css" rel="stylesheet" type="text/css" />
  <title>
    WAC
    |
    Applications of Audio and MIDI API Within a music notation editor
  </title>

</head>

<body>

  <a href="/"><img alt="Responsive image" class="img-fluid" src="/assets/images/wac-header.png"></a>
  <nav class="navbar sticky-top navbar-expand-lg navbar-dark bg-dark">
    <!--a class="navbar-brand" href="/">WAC</a-->
    <button aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"
      class="navbar-toggler" data-target="#navbarSupportedContent" data-toggle="collapse" type="button">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <div class="mx-auto">
        <ul class="navbar-nav">
          <li  class="nav-item" >
            <a class="nav-link" href="/">Home<span class="sr-only">(current)</span>
            </a>
          </li>
          <li  class="nav-item" >
            <a class="nav-link" href="/past">Past WACs</a>
          </li>
          <li  class="nav-item" >
            <a class="nav-link" href="/proceedings">Proceedings</a>
          </li>
          <li  class="nav-item" >
            <a class="nav-link" href="/code-of-conduct">Code of Conduct</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="container">
    
<div class=" mb-5 mx-auto">
  <div class="row justify-content-md-center">
    <div class="col-sm">
      <h1 class="title text-center" id="title">Applications of Audio and MIDI API Within a music notation editor</h1>
      <div>
        <div class="author">Corentin Gurtner</div>

        <div class="row">
          <div class="col-xl-6">
            <div class="abstract">In this demo, I will show the web application Flat and the way we use Web Audio API and Web MIDI API for improving the collaborative score editing experience on flat.io. Flat is a collaborative score music editor. It allows people to create music from scratch by working in real-time with each other. It can be considered as a 'Sibelius meets Google Doc meets Github' (although Flat does not allow to fork scores yet), and we designed it in order to be very easy to use. Each user has access to his personal space that lists all the scores he made. Each score can be private, public or open to some specific people. When a user invites other people to collaborate, he can see what these other users are doing in real-time, which parts they are working on, what notes they are setting ... etc. They can also communicate with each other through a real-time comments section. Once they composed an awesome piece, they can share it with their friends on social networks, but also with the Flat community and get likes, comments and requests to collaborate. We use an audio playback that is based on Chris Wilson's famous post 'A tale of two clocks': However, all the notes in the next 2 seconds window are scheduled each 0.5 second in order to improve performance. Then a parser fetches all the necessary data to perfonn a realist audio playback, appropriate to the score. We save music scores in a custom JSON model lying on MusicXML format. Each instrument is made out of samples. We also plan to add some customizable synthesis-based instruments. Some envelopes specific to each instrument are set to allow smooth and clear transitions between notes. Some occasional effects (staccato, fermata, tremolo ... ) can also alter the envelope. The library responsible for audio processing is named Dacapo, and it's also used on the backend to export WAV, MP3 and MIDI files (through Node.js). We are also implementing MIDI devices support with a real-time display on the score during live recording. When you press a key of your controller, the note is displayed on the score immediately after the release, and you can then adjust the duration on a simple piano roll (very convenient to choose between a triplet and three quarter notes for example). Another feature we are going to release in the coming weeks is the ability to connect Flat to an output MIDI port. For instance, it can be very convenient to connect it to a virtual MIDI port. Then, users can enjoy a high-quality sound by connecting to a virtual instrument (like Kontakt) and enhance the unique Flat experience. The key feature of Flat, is the ability to collaborate with several people on the same music sheet (a bit like Google Docs) so I will show that feature with some of my friends in France. I will conclude by explaining what is coming next, like an audio recognition algorithm and physical modeling for instruments, though we need to wait for the Audio Worker to be released for such applications.</div>
          </div>
          <div class="col-xl-6">
            <pre class="bibtex">
            <code>
@inproceedings&#123;2016_EA_44,
  abstract = &#123;In this demo, I will show the web application Flat and the way we use Web Audio API and Web MIDI API for improving the collaborative score editing experience on flat.io. Flat is a collaborative score music editor. It allows people to create music from scratch by working in real-time with each other. It can be considered as a 'Sibelius meets Google Doc meets Github' (although Flat does not allow to fork scores yet), and we designed it in order to be very easy to use. Each user has access to his personal space that lists all the scores he made. Each score can be private, public or open to some specific people. When a user invites other people to collaborate, he can see what these other users are doing in real-time, which parts they are working on, what notes they are setting ... etc. They can also communicate with each other through a real-time comments section. Once they composed an awesome piece, they can share it with their friends on social networks, but also with the Flat community and get likes, comments and requests to collaborate. We use an audio playback that is based on Chris Wilson's famous post 'A tale of two clocks': However, all the notes in the next 2 seconds window are scheduled each 0.5 second in order to improve performance. Then a parser fetches all the necessary data to perfonn a realist audio playback, appropriate to the score. We save music scores in a custom JSON model lying on MusicXML format. Each instrument is made out of samples. We also plan to add some customizable synthesis-based instruments. Some envelopes specific to each instrument are set to allow smooth and clear transitions between notes. Some occasional effects (staccato, fermata, tremolo ... ) can also alter the envelope. The library responsible for audio processing is named Dacapo, and it's also used on the backend to export WAV, MP3 and MIDI files (through Node.js). We are also implementing MIDI devices support with a real-time display on the score during live recording. When you press a key of your controller, the note is displayed on the score immediately after the release, and you can then adjust the duration on a simple piano roll (very convenient to choose between a triplet and three quarter notes for example). Another feature we are going to release in the coming weeks is the ability to connect Flat to an output MIDI port. For instance, it can be very convenient to connect it to a virtual MIDI port. Then, users can enjoy a high-quality sound by connecting to a virtual instrument (like Kontakt) and enhance the unique Flat experience. The key feature of Flat, is the ability to collaborate with several people on the same music sheet (a bit like Google Docs) so I will show that feature with some of my friends in France. I will conclude by explaining what is coming next, like an audio recognition algorithm and physical modeling for instruments, though we need to wait for the Audio Worker to be released for such applications.&#125;,
  address = &#123;Atlanta, GA, USA&#125;,
  author = &#123;Gurtner, Corentin&#125;,
  booktitle = &#123;Proceedings of the International Web Audio Conference&#125;,
  editor = &#123;Freeman, Jason and Lerch, Alexander and Paradis, Matthew&#125;,
  month = &#123;April&#125;,
  pages = &#123;&#125;,
  publisher = &#123;Georgia Tech&#125;,
  series = &#123;WAC '16&#125;,
  title = &#123;Applications of Audio and MIDI API Within a music notation editor&#125;,
  year = &#123;2016&#125;,
  ISSN = &#123;2663-5844&#125;
}
              </code>
            </pre>
          </div>
        </div>
        <div class="row mb-5">
          <div class="col-xl-6">
            <div>
              
              <a href="/_data/papers/pdf/2016/2016_44.pdf" target="blank" class="PDF">Download PDF</a>
               
              <a href="https://smartech.gatech.edu/bitstream/handle/1853/54630/lightningtalks-day2_videostream.html?sequence=8&isAllowed=y" target="blank" class="media">Watch video</a>
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  </main>

  <footer class="fixed-bottom py-2 bg-dark text-light">
    <div class="container-fluid">
      <div class="row" style="color:gray;">
        <div class="col-md-6 text-md-left text-center align-self-center" id="developers">
          Developed by: <a href="https://github.com/MeltingPlanet" target="_blank" class="devLink" rel="noopener">JÃ¸rgen
            Varpe</a> and
          <a href="https://github.com/Eigil94" target="_blank" class="devLink" rel="noopener">Eigil Aandahl</a>
        </div>
        <div class="col-md-6 text-md-right text-center align-self-center">
          <a href="https://twitter.com/webaudioconf" target="_blank" rel="noopener">
            <img src="/assets/images/twitter.svg" width="40px" height="40px" id="bird" />
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script crossorigin="anonymous" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script crossorigin="anonymous" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script crossorigin="anonymous" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</body>

</html>